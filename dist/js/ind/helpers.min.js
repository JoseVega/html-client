liveChat.helpers={setCookie:function(a,b,c){var d=new Date;d.setTime(d.getTime()+60*c*1e3);var e="expires="+d.toUTCString();document.cookie=a+"="+b+"; "+e},getCookie:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return""},AddZero:function(a){return a>=0&&10>a?"0"+a:a+""},findDif:function(a){if(a.slice(0,4)<liveChat.yearNow&&liveChat.monthNow-parseInt(a.slice(5,7))+12>1||a.slice(0,4)==liveChat.yearNow&&liveChat.monthNow-parseInt(a.slice(5,7))>0&&liveChat.dateNow>parseInt(a.slice(8,10)))return this.numberToMonth(parseInt(a.slice(5,7)))+" "+a.slice(8,10);if(liveChat.monthNow-parseInt(a.slice(5,7))>0&&liveChat.dateNow-parseInt(a.slice(8,10))+this.getMonthDays(a.slice(0,4),parseInt(a.slice(5,7)))>7||liveChat.monthNow-parseInt(a.slice(5,7))==0&&liveChat.dateNow-parseInt(a.slice(8,10))>7)return this.numberToMonth(parseInt(a.slice(5,7)))+" "+a.slice(8,10);var b=0;if(b=liveChat.monthNow-parseInt(a.slice(5,7))>0?liveChat.dateNow-parseInt(a.slice(8,10))+this.getMonthDays(a.slice(0,4),parseInt(a.slice(5,7))):liveChat.dateNow-parseInt(a.slice(8,10)),b>1){var c=liveChat.settings.texts.daysAgo,d={unit:b};return Mustache.parse(c),Mustache.render(c,d)}var e=24*b+(liveChat.hoursNow-parseInt(a.slice(11,13)));if(e>23)return liveChat.settings.texts.yesterday;if(e>1){var c=liveChat.settings.texts.hoursAgo,d={unit:e};return Mustache.parse(c),Mustache.render(c,d)}var f=60*e+(liveChat.minutesNow-parseInt(a.slice(14,16)));if(f>59){var c=liveChat.settings.texts.hourAgo,d={unit:e};return Mustache.parse(c),Mustache.render(c,d)}if(f>1){var c=liveChat.settings.texts.minutesAgo,d={unit:f};return Mustache.parse(c),Mustache.render(c,d)}if(f>0){var c=liveChat.settings.texts.minuteAgo,d={unit:1};return Mustache.parse(c),Mustache.render(c,d)}return liveChat.settings.texts.now},findDifLastOnline:function(a){if(void 0===a)return"";if(a.slice(0,4)<liveChat.yearNow&&liveChat.monthNow-parseInt(a.slice(5,7))+12>1||a.slice(0,4)==liveChat.yearNow&&liveChat.monthNow-parseInt(a.slice(5,7))>0&&liveChat.dateNow>parseInt(a.slice(8,10)))return this.numberToMonth(parseInt(a.slice(5,7)))+" "+a.slice(8,10);if(liveChat.monthNow-parseInt(a.slice(5,7))>0&&liveChat.dateNow-parseInt(a.slice(8,10))+this.getMonthDays(a.slice(0,4),parseInt(a.slice(5,7)))>7||liveChat.monthNow-parseInt(a.slice(5,7))==0&&liveChat.dateNow-parseInt(a.slice(8,10))>7)return this.numberToMonth(parseInt(a.slice(5,7)))+" "+a.slice(8,10);var b=0;if(b=liveChat.monthNow-parseInt(a.slice(5,7))>0?liveChat.dateNow-parseInt(a.slice(8,10))+this.getMonthDays(a.slice(0,4),parseInt(a.slice(5,7))):liveChat.dateNow-parseInt(a.slice(8,10)),b>1){var c=liveChat.settings.texts.daysAgo,d={unit:b};return Mustache.parse(c),Mustache.render(c,d)}var e=24*b+(liveChat.hoursNow-parseInt(a.slice(11,13)));if(e>23)return liveChat.settings.texts.yesterday;if(e>1){var c=liveChat.settings.texts.hoursAgo,d={unit:e};return Mustache.parse(c),Mustache.render(c,d)}var f=60*e+(liveChat.minutesNow-parseInt(a.slice(14,16)));if(f>59){var c=liveChat.settings.texts.hourAgo,d={unit:e};return Mustache.parse(c),Mustache.render(c,d)}if(f>1){var c=liveChat.settings.texts.minutesAgo,d={unit:f};return Mustache.parse(c),Mustache.render(c,d)}var c=liveChat.settings.texts.minuteAgo,d={unit:1};return Mustache.parse(c),Mustache.render(c,d)},numberToMonth:function(a){switch(a){case 1:return"Jan";case 2:return"Feb";case 3:return"Mar";case 4:return"Apr";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"Aug";case 9:return"Sep";case 10:return"Oct";case 11:return"Nov";case 12:return"Dec"}},getMonthDays:function(a,b){switch(b){case 1:return 31;case 2:return a%4==0?29:28;case 3:return 31;case 4:return 30;case 5:return 31;case 6:return 30;case 7:return 31;case 8:return 31;case 9:return 30;case 10:return 31;case 11:return 30;case 12:return 31}},findDifBig:function(a){if(!a)return"";if(a.slice(0,4)<liveChat.yearNow&&liveChat.monthNow-parseInt(a.slice(5,7))+12>1||a.slice(0,4)==liveChat.yearNow&&liveChat.monthNow-parseInt(a.slice(5,7))>0&&liveChat.dateNow>parseInt(a.slice(8,10)))return a.slice(0,4)+"/"+a.slice(5,7)+"/"+a.slice(8,10)+" | "+a.slice(11,16);if(liveChat.monthNow-parseInt(a.slice(5,7))>0&&liveChat.dateNow-parseInt(a.slice(8,10))+this.getMonthDays(a.slice(0,4),parseInt(a.slice(5,7)))>7||liveChat.monthNow-parseInt(a.slice(5,7))==0&&liveChat.dateNow-parseInt(a.slice(8,10))>7)return a.slice(0,4)+"/"+a.slice(5,7)+"/"+a.slice(8,10)+" | "+a.slice(11,16);var b=0;if(b=liveChat.monthNow-parseInt(a.slice(5,7))>0?liveChat.dateNow-parseInt(a.slice(8,10))+this.getMonthDays(a.slice(0,4),parseInt(a.slice(5,7))):liveChat.dateNow-parseInt(a.slice(8,10)),b>1)return a.slice(0,4)+"/"+a.slice(5,7)+"/"+a.slice(8,10)+" "+a.slice(11,16);var c=24*b+(liveChat.hoursNow-parseInt(a.slice(11,13)));if(c>23)return"Yesterday";if(c>1)return c+" hours";var d=60*c+(liveChat.minutesNow-parseInt(a.slice(14,16)));return d>59?c+" hour":d>1?d+" mins":d>0?d+" min":"now"},scrollToBottom:function(a){a.length>1&&(a=a.first());for(var b=0;6>b;b++)setTimeout(function(){$(a).scrollTop($(a)[0].scrollHeight)},400*b)},getQueryStringValue:function(a,b){var c=b?b:window.location.href,d=new RegExp("[?&]"+a+"=([^&#]*)","i"),e=d.exec(c);return e?e[1]:null},setDateNow:function(){now=new Date,liveChat.strDateTime=[[now.getFullYear(),liveChat.helpers.AddZero(now.getMonth()+1),liveChat.helpers.AddZero(now.getDate())].join("-"),[liveChat.helpers.AddZero(now.getHours()),liveChat.helpers.AddZero(now.getMinutes()),liveChat.helpers.AddZero(now.getSeconds())].join(":")].join(" "),liveChat.yearNow=now.getFullYear(),liveChat.monthNow=now.getMonth()+1,liveChat.dateNow=now.getDate(),liveChat.hoursNow=now.getHours(),liveChat.minutesNow=now.getMinutes()},waitForUpload:function(a,b,c,d){c?liveChat.filesNumCB[b]>0?setTimeout(liveChat.api.waitForUpload,500,a,b,!0,d):($("#loadingDivChatBox"+b).removeClass("loadingChatBox"),liveChat.api.sendMessage(a,b),$(d).val("").prop("disabled",!1)):liveChat.filesNum>0?setTimeout(liveChat.api.waitForUpload,500,a,b):($(".loading").removeClass("loading"),liveChat.api.sendMessage(a,b),$("#newMessage").val("").prop("disabled",!1))},replaceImageShortcode:function(a){var b="<br><a href='#' class='open-image-lightbox'><img src="+liveChat.settings.backendUrl+"?livechat_request=yes&endpoint=read_image&image=$1 class=messageImage></a><br>",c="<a target='_blank' href='"+liveChat.settings.backendUrl+"?livechat_request=yes&endpoint=download_proxy&file=$1'>$3</a><br>";return a=a.replaceAll("&quot;",'"'),a.replace(/\[linked_file="(.+)" type="(.+)" filename="(.+)"\]/i,a.indexOf('type="image"')<0?c:b)}};